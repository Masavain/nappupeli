{"version":3,"sources":["services/counter.js","services/winners.js","App.js","index.js"],"names":["baseUrl","getCounter","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","this","apply","arguments","update","_ref2","_callee2","newObject","_context2","put","_x","counter","create","_ref3","_callee3","_context3","post","_x2","services_winners","getAll","then","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentWillMount","countObject","winners","sliced","counterService","winnerService","reverse","slice","setState","count","state","pressed","message","changeWinCategory","winCategory","press","notifyWin","_ref4","_callee4","_context4","console","log","toggle","handleSubmit","_ref5","_callee5","event","winnerObject","_context5","preventDefault","name","target","value","date","Date","_x3","deleteMessage","_ref6","_callee6","_context6","_x4","toggleLeaderboard","_callee7","_context7","leaderboard","clicker","_callee8","counterObject","_context8","socketIOClient","endpoint","emit","id","_this2","on","react_default","createElement","style","padding","position","left","Button","bsSize","bsStyle","onClick","Alert","border","margin","borderWidth","width","Form","class","onSubmit","e","Group","controlId","Control","type","placeholder","variant","map","w","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d40d2169.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/counters/5c5aafed153cf16a0d76c6fc'\n\nconst getCounter = async () => {\n    const response = await axios.get(baseUrl)\n    return response.data\n}\nconst update = async (newObject) => {\n    const response = await axios.put(baseUrl, newObject)\n    return response.data\n  }\nconst create = async (newObject) => {\n    const response = await axios.post(baseUrl, newObject)\n    return response.data\n}\nexport default { getCounter, create, update }","import axios from 'axios'\nconst baseUrl = '/api/winners'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = async (newObject) => {\n    const response = await axios.post(baseUrl, newObject)\n    return response.data\n}\nexport default { getAll, create }","import React, { Component } from 'react'\nimport socketIOClient from 'socket.io-client'\nimport counterService from './services/counter'\nimport winnerService from './services/winners'\nimport { Button, ListGroup, ListGroupItem, Alert, Form, FormGroup } from 'react-bootstrap'\nimport Notification from './components/Notification'\nclass App extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      endpoint: \"https://nappupeli.herokuapp.com:4001\",\n      // endpoint: \"http://127.0.0.1:4001\",\n      count: 0,\n      winCategory: 100,\n      pressed: false,\n      toggle: false,\n      leaderboard: false,\n      winners: [],\n      message: ''\n    }\n  }\n\n  componentWillMount = async () => {\n    const countObject = await counterService.getCounter()\n    var winners = await winnerService.getAll()\n    winners.reverse()\n    const sliced = winners.slice(0, 11)\n    this.setState({ count: countObject.state, pressed: false, message: '', winners: sliced })\n  }\n\n  changeWinCategory = async (winCategory) => {\n    this.setState({ winCategory })\n  }\n\n  press = async () => {\n    this.setState({ pressed: true })\n  }\n\n  notifyWin = async (message) => {\n    console.log('täällä')\n    this.setState({ toggle: true, message })\n  }\n\n  handleSubmit = async (event) => {\n    event.preventDefault()\n    const winnerObject = {\n      name: event.target.name.value,\n      date: new Date(),\n    }\n    await winnerService.create(winnerObject)\n    var winners = await winnerService.getAll()\n    winners.reverse()\n    const sliced = winners.slice(0, 11)\n    this.setState({ message: '', toggle: false, winners: sliced })\n  }\n\n  deleteMessage = async (event) => {\n    console.log('Yritän poistaa lul')\n    event.preventDefault()\n    this.setState({ toggle: false, message: '' })\n  }\n\n  toggleLeaderboard = async () => {\n    this.setState({ leaderboard: !this.state.leaderboard })\n  }\n\n  clicker = async () => {\n    this.setState({ count: this.state.count + 10 })\n    const socket = socketIOClient(this.state.endpoint);\n    socket.emit('increment', this.state.count)\n    const counterObject = {\n      id: '5c5aafed153cf16a0d76c6fc',\n      state: this.state.count + 10\n    }\n    await counterService.update(counterObject)\n    if (!this.state.pressed) await this.press()\n\n    if ((this.state.count % 100 !== 0) && this.state.pressed) {\n      await this.changeWinCategory(100)\n    }\n    if ((this.state.count % 200 === 0) && this.state.pressed) {\n      await this.changeWinCategory(200)\n    }\n    if ((this.state.count % 500 === 0) && this.state.pressed) {\n      await this.changeWinCategory(500)\n    }\n\n    if ((this.state.count % this.state.winCategory) === 0 && this.state.pressed) {\n      console.log('Voitto')\n      if (this.state.winCategory === 100) this.notifyWin(`You WIN a small prize!`)\n      if (this.state.winCategory === 200) this.notifyWin(`You WIN a medium prize!!`)\n      if (this.state.winCategory === 500) this.notifyWin(`You WIN a BIG prize!!!`)\n\n    }\n\n\n  }\n\n  render() {\n    const socket = socketIOClient(this.state.endpoint)\n\n    socket.on('increment', (count) => {\n      this.setState({ count: count + 10 })\n    })\n\n    const style = {\n      position: 'relative',\n      border: 'solid',\n      margin: 10,\n      padding: 10,\n      borderWidth: 1,\n      left: 10,\n      width: '300px'\n    }\n    return (\n      <div style={{ padding: 10 }}>\n        <h2 style={{ position: 'relative', padding: 10 }}>{'NappUpeli'}</h2>\n\n        <h2 style={{ position: 'relative', padding: 50 }}>{100 - (this.state.count % 100) + '...'}</h2>\n        <div style={{ position: 'relative', left: 30 }}> clicks until next prize </div>\n        <Button bsSize=\"sm\" bsStyle=\"danger\"\n          onClick={() => this.clicker()}>nappu\n        </Button>\n\n        {this.state.toggle ?\n          <Alert style={style}>\n            <h3>{this.state.message}</h3>\n            <Form class=\"col s12\" style={{ margin: 4 }} onSubmit={e => this.handleSubmit(e)}>\n              <Form.Group controlId=\"name\">\n                <Form.Control type=\"text\" placeholder=\"enter name\">\n                </Form.Control>\n              </Form.Group>\n              <Button variant=\"primary\" type=\"submit\" style={{ position: 'relative' }}>Submit</Button>\n            </Form>\n            <a style={{ margin: 4 }} class=\"btn-floating btn-small waves-effect waves-light red\" onClick={(e) => this.deleteMessage(e)}><i class=\"material-icons\">cancel</i></a>\n          </Alert>\n          : <div></div>}\n\n\n        <Button onClick={() => this.toggleLeaderboard()}>Leaderboard</Button>\n        <div> {this.state.leaderboard ?\n          <ul class=\"collection\" style={{ width: 200 }}>\n            {this.state.winners.map(w => <li class=\"collection-item\">{w.name}</li>)}\n          </ul>\n          : <div></div>} </div>\n      </div>\n    )\n\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))  "],"sourceRoot":""}